<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.15.2 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Sales Forecast for a Wholesale Club Using Traditional Time Series and Machine Learning Models - Mark Wang</title>
<meta name="description" content="time series, machine learning, forecasting">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Mark Wang">
<meta property="og:title" content="Sales Forecast for a Wholesale Club Using Traditional Time Series and Machine Learning Models">
<meta property="og:url" content="https://zibowangkangyu.github.io/salesforecast/">


  <meta property="og:description" content="time series, machine learning, forecasting">



  <meta property="og:image" content="https://zibowangkangyu.github.io/images/salesforecast/plots/decomp.jpg">





  <meta property="article:published_time" content="2019-10-20T00:00:00+00:00">





  

  


<link rel="canonical" href="index.html">







  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Mark Wang's projects",
      "url": "https://zibowangkangyu.github.io",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="../feed.xml" type="application/atom+xml" rel="alternate" title="Mark Wang Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="../assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="../index.html">Mark Wang</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="../about/index.html" >About</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      
  











<div class="page__hero"
  style=" "
>
  
    <img src="../images/salesforecast/plots/decomp.jpg" alt="Sales Forecast for a Wholesale Club Using Traditional Time Series and Machine Learning Models" class="page__hero-image">
  
  
</div>





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="../images/Mark_profile.png" alt="Mark Wang" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Mark Wang</h3>
    
    
      <p class="author__bio" itemprop="description">
        R developer with data science experience in finance, econometrics and consulting. I am proficient in machine learning, time series and geospatial modeling, natural language processing, and applied economics research.
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Toronto, ON</span>
        </li>
      

      
        
          
        
          
        
          
        
          
            <li><a href="https://github.com/ZIBOWANGKANGYU" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
          
        
          
        
      

      

      
        <li>
          <a href="mailto:kangyumarkwang@gmail.com">
            <meta itemprop="email" content="kangyumarkwang@gmail.com" />
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i> Email
          </a>
        </li>
      

      

      

      

      
        <li>
          <a href="https://www.linkedin.com/in/kmarkwang" itemprop="sameAs" rel="nofollow noopener noreferrer">
            <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Sales Forecast for a Wholesale Club Using Traditional Time Series and Machine Learning Models">
    <meta itemprop="description" content="time series, machine learning, forecasting">
    <meta itemprop="datePublished" content="October 20, 2019">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Sales Forecast for a Wholesale Club Using Traditional Time Series and Machine Learning Models
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  1 minute read
</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <h1 id="abstract">Abstract</h1>

<p>I finished this project as an algorithm development intern in a wholesale club. Using historical data on sales, price and exchange rate, this project predicts sales at the weekly level four months into the future.
Combining traditional time series methods with machine learning tools, this project is able to cut forecast RMSE by half. However,  tremondous space of improment still exists. Currently, machine learning models does not significanty improve the performance of well-developed traditional models. I figure that a larger dataset, with more contectual information is hopeful to make machine learning more powerful. Also, the performance of uni-variate neural network model is satisfactory, and the use of more complex deep learning models will also be key to improving performance.</p>

<p>For code and more visualizations, please see <a href="../sales_forecast.html">Project page</a>.</p>

<p>The project folder can be found <a href="https://github.com/ZIBOWANGKANGYU/sales_forecast">here</a></p>

<h1 id="raw-data">Raw data</h1>

<p>The project uses two datasets. One contains sales data of one item in one club (store). The other contains data of items combined the category in this store. The first dataset is shown below:</p>

<table>
  <tbody>
    <tr>
      <td>TransactionDate</td>
      <td>ClubNumber</td>
      <td>Country</td>
      <td>number_transactions</td>
      <td>number_members</td>
      <td>sales_usd</td>
      <td>sales_local</td>
      <td>exchange_rate</td>
      <td>quantity</td>
      <td>item</td>
      <td>Description</td>
    </tr>
    <tr>
      <td>2015-01-02</td>
      <td>6101 Colombia</td>
      <td>100</td>
      <td>97</td>
      <td>820.5600</td>
      <td>1963416</td>
      <td>0.000418000</td>
      <td>104</td>
      <td>732578</td>
      <td>Kitchen Trash Bag</td>
      <td> </td>
    </tr>
    <tr>
      <td>2015-01-03</td>
      <td>6101 Colombia</td>
      <td>106</td>
      <td>101</td>
      <td>986.2600</td>
      <td>2359875</td>
      <td>0.000418000</td>
      <td>125</td>
      <td>732578</td>
      <td>Kitchen Trash Bag</td>
      <td> </td>
    </tr>
    <tr>
      <td>2015-01-04</td>
      <td>6101 Colombia</td>
      <td>22</td>
      <td>20</td>
      <td>986.2600</td>
      <td>2359875</td>
      <td>0.000418000</td>
      <td>125</td>
      <td>732578</td>
      <td>Kitchen Trash Bag</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p>The second dataset is shown below:</p>

<table>
  <tbody>
    <tr>
      <td>TransactionDate</td>
      <td>Category_Sales_usd</td>
      <td>Category_Sales_local</td>
      <td>Category_quantity</td>
    </tr>
    <tr>
      <td>2015-01-02</td>
      <td>1783.520</td>
      <td>4267123</td>
      <td>251</td>
    </tr>
    <tr>
      <td>2015-01-03</td>
      <td>1922.930</td>
      <td>4600721</td>
      <td>241</td>
    </tr>
    <tr>
      <td>2015-01-04</td>
      <td>1664.010</td>
      <td>3980915</td>
      <td>161</td>
    </tr>
  </tbody>
</table>

<h1 id="aggregation-to-weekly-level">Aggregation to weekly level</h1>

<p>The target of prediction, namely quantity, are aggregated to weekly level, which is shown in the graph below.</p>

<p><img src="../images/salesforecast/plots/weekly_agg.jpg" alt="Weekly aggregated sale quantity" /></p>

<h1 id="decomposition">Decomposition</h1>

<p>The logged quantity is then de-composed into three parts, namely seasonal, trend and remainder. The seasonal part repeats itself annually.</p>

<p><img src="../images/salesforecast/plots/decomp.jpg" alt="Decomposition of logged quantity" /></p>

<h1 id="uni-variate-models">Uni-variate Models</h1>

<h2 id="simple-models">Simple models</h2>
<p>Four simple models, namely naive method, average method, seasonal naïve method and drift method, are used.</p>

<p><img src="../images/salesforecast/plots/simple.jpg" alt="Decomposition of logged quantity" /></p>

<h2 id="arima-models">ARIMA models</h2>
<p>Three simple models, namely simple ARIMA, ARIMA single season and ARIMA double seasons, are used.</p>

<p><img src="../images/salesforecast/plots/ARIMA.jpg" alt="Decomposition of logged quantity" /></p>

<h2 id="tbats-models">TBATS Models</h2>
<p>Five TBATS models are used. Their technical details can be found on the <a href="../sales_forecast.html">Project page</a>.</p>

<p><img src="../images/salesforecast/plots/TBATS.jpg" alt="Decomposition of logged quantity" /></p>

<h2 id="neural-network">Neural Network</h2>
<p>Two neural network model: one used on raw data and another used on de-trended and de-seasonalized data.</p>

<p><img src="../images/salesforecast/plots/nn.jpg" alt="Decomposition of logged quantity" /></p>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="https://zibowangkangyu.github.io/tags/#forecasting" class="page__taxonomy-item" rel="tag">forecasting</a><span class="sep">, </span>
    
      
      
      <a href="https://zibowangkangyu.github.io/tags/#machine-learning" class="page__taxonomy-item" rel="tag">machine learning</a><span class="sep">, </span>
    
      
      
      <a href="https://zibowangkangyu.github.io/tags/#time-series" class="page__taxonomy-item" rel="tag">time series</a>
    
    </span>
  </p>




        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2019-10-20T00:00:00+00:00">October 20, 2019</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Sales+Forecast+for+a+Wholesale+Club+Using+Traditional+Time+Series+and+Machine+Learning+Models%20https%3A%2F%2Fzibowangkangyu.github.io%2Fsalesforecast%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fzibowangkangyu.github.io%2Fsalesforecast%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fzibowangkangyu.github.io%2Fsalesforecast%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="../interprovincialmigration/index.html" class="pagination--pager" title="Migration in China: a gravity model with 2015 mini census data
">Previous</a>
    
    
      <a href="../python_geo/index.html" class="pagination--pager" title="Geographical Analyses in Python
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="../copilot_topic/index.html" rel="permalink">GitHub Copilot seem hesitant? Could be AI safety and fairness measures!
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  4 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">artificial intelligence, large language models, safety and security
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="../Evaluation_metrics/index.html" rel="permalink">Evaluation Metrics for Binary Classification in Machine Learning: When Accuracy Score Is Not Enough
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  4 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">machine learning, binary classification
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="../Infodemic/index.html" rel="permalink">Combating America’s Other Infodemic
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  8 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">python, regressions, COVID-19
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="../Vancouver_transit_summary/index.html" rel="permalink">Public Transportation in Vancouver: Suggestions from Machine Learning Models
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  1 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">GIS, Python, transit
</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    <li><a href="../feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2024 Mark Wang's projects. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
<script src="../assets/js/main.min.js"></script>
<script defer src="https://use.fontawesome.com/releases/v5.7.1/js/all.js"
  integrity="sha384-eVEQC9zshBn0rFj4+TU78eNA19HMNigMviK/PU/FFjLXqa/GKPgX58rvt5Z8PLs7" crossorigin="anonymous"></script>






<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>

  </body>
</html>
